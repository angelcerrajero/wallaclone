(this.webpackJsonpwallakeep=this.webpackJsonpwallakeep||[]).push([[0],{103:function(e,t,a){},153:function(e,t,a){e.exports=a(325)},325:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"user",(function(){return Be})),a.d(n,"ads",(function(){return Le})),a.d(n,"detailAd",(function(){return Ge})),a.d(n,"searchAd",(function(){return Ke})),a.d(n,"ui",(function(){return ze}));var r=a(0),c=a.n(r),l=a(43),s=a(10),o=a(11),i=a(13),u=a(12),m=a(14),p=a(27),d=a(25),h=(a(40),a(5)),v=a.n(h),f=a(16),E=a(31),g=a.n(E),b="http://localhost:3001/api/product",y=function(){return{getTagsAds:function(){var e=Object(f.a)(v.a.mark((function e(t){var a,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="http://localhost:3001/apiv1/anuncios?tag=".concat(t),e.next=3,g.a.get(a);case 3:return n=e.sent,e.abrupt("return",n.data.results);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getAds:function(){var e=Object(f.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get(b);case 3:return a=e.sent,e.abrupt("return",a.data.result);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),getAdsbySearch:function(){var e=Object(f.a)(v.a.mark((function e(t,a,n,r){var c,l;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="".concat(b),n&&(c="".concat(b,"?tags=").concat(n)),a&&(c="".concat(c,"&price=0-").concat(a)),t&&(c="".concat(c,"&name=").concat(t)),r&&(c="".concat(c,"&venta=").concat(r)),console.log(c),e.next=8,g.a.get(c);case 8:return l=e.sent,e.abrupt("return",l.data.result);case 10:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),findAds:function(){var e=Object(f.a)(v.a.mark((function e(t){var a,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="http://localhost:3001/api/product?name=".concat(t),e.next=3,g.a.get(a);case 3:return n=e.sent,e.abrupt("return",n.data.result);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),findAdByID:function(){var e=Object(f.a)(v.a.mark((function e(t){var a,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="http://localhost:3001/apiv1/anuncios/".concat(t),e.next=3,g.a.get(a);case 3:return n=e.sent,e.abrupt("return",n.data.result);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getTags:function(){var e=Object(f.a)(v.a.mark((function e(){var t,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(b,"/tags"),e.prev=1,e.next=4,g.a.get(t);case 4:return a=e.sent,e.abrupt("return",a.data.result);case 8:throw e.prev=8,e.t0=e.catch(1),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),editAdvert:function(){var e=Object(f.a)(v.a.mark((function e(t,a){var n,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="http://localhost:3001/apiv1/anuncios/".concat(t),console.log("enpoint de edit es: ",n),e.next=4,g()({method:"put",url:n,data:a});case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),newAdvert:function(){var e=Object(f.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),"http://localhost:3001/apiv1/anuncios",e.next=4,g()({method:"post",url:"http://localhost:3001/apiv1/anuncios",data:t});case 4:return a=e.sent,e.abrupt("return",a.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},O=a(331),S=y().getTags,N=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).myTags=function(){S().then((function(e){return a.setState({tags:e,loading:!1})}))},a.state={tags:[],loading:!0},a.myTags=a.myTags.bind(Object(d.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.myTags()}},{key:"render",value:function(){var e=this.state,t=e.tags;return e.loading?null:c.a.createElement(c.a.Fragment,{key:"tagList"},c.a.createElement("div",{className:""},c.a.createElement(O.a.Group,{controlId:"tagSelect"},c.a.createElement(O.a.Control,{as:"select",name:"tags",size:"",autoFocus:!0,required:"required",onChange:this.props.tagHandle},c.a.createElement("option",{className:"field",value:"",selected:!0,disabled:!0},"Choose your Tag"),t.map((function(e){return c.a.createElement("option",{key:e}," ",e)}))))))}}]),t}(c.a.Component),C=c.a.createContext(),j=(C.Provider,C.Consumer,C),A=function(e){localStorage.setItem("userData",JSON.stringify(e))},w=a(18),k=y(),T=k.getAds,_=k.findAdByID,x=k.getAdsbySearch,D=k.editAdvert,I=function(e){return{type:"SET_USER",user:e}},F=function(e,t){return function(){var a=Object(f.a)(v.a.mark((function a(n,r){var c,l;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(P(t)),a.prev=1,a.next=4,D(e,t);case 4:c=a.sent,l=c.data,console.log(l),n(U(l.result)),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(1),n(R(a.t0));case 13:case"end":return a.stop()}}),a,null,[[1,10]])})));return function(e,t){return a.apply(this,arguments)}}()},P=function(){return{type:"EDIT_AD_REQUEST"}},U=function(e){return{type:"EDIT_AD_SUCCESS",ad:e}},R=function(e){return{type:"EDIT_AD_FAILURE",error:e}},H=function(e,t,a,n){return function(){var r=Object(f.a)(v.a.mark((function r(c,l){var s;return v.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c(B()),r.prev=1,r.next=4,x(e,t,a,n);case 4:s=r.sent,c(L(s)),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(1),c(G(r.t0));case 11:case"end":return r.stop()}}),r,null,[[1,8]])})));return function(e,t){return r.apply(this,arguments)}}()},B=function(){return{type:"FETCH_SEARCH_ADS_REQUEST"}},L=function(e){return{type:"FETCH_SEARCH_ADS_SUCCESS",ads:e}},G=function(e){return{type:"FETCH_SEARCH_ADS_FAILURE",error:e}},K=function(e){return function(){var t=Object(f.a)(v.a.mark((function t(a,n){var r;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(z()),t.prev=1,t.next=4,_(e);case 4:r=t.sent,a(M(r)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a(W(t.t0));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,a){return t.apply(this,arguments)}}()},z=function(){return{type:"FETCH_SINGLE_AD_REQUEST"}},M=function(e){return{type:"FETCH_SINGLE_AD_SUCCESS",ad:e}},W=function(e){return{type:"FETCH_SINGLE_AD_FAILURE",error:e}},Q=function(){return function(){var e=Object(f.a)(v.a.mark((function e(t,a){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(q()),e.prev=1,e.next=4,T();case 4:n=e.sent,t(J(n)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t(V(e.t0));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}()},q=function(){return{type:"FETCH_ADS_REQUEST"}},J=function(e){return{type:"FETCH_ADS_SUCCESS",ads:e}},V=function(e){return{type:"FETCH_ADS_FAILURE",error:e}};function X(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?X(a,!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):X(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Z=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).onSubmit=function(e){return e.preventDefault(),console.log(a.state),console.log(a.props),a.state.user.name.trim().length<=3?(alert("The name must be bigger than 3 characters"),!1):a.state.user.surname.trim().length<=3?(alert("The surname must be bigger than 3 characters"),!1):(a.props.history.push("/advert"),A(a.state.user),a.props.setUserToRedux(a.state.user),!0)},a.onInputChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState({user:Y({},a.state.user,Object(p.a)({},n,r))})},console.log(e),a.state={user:{name:"",surname:"",tags:[],isRegister:!1}},a.onInputChange=a.onInputChange.bind(Object(d.a)(a)),a.onSubmit=a.onSubmit.bind(Object(d.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("userData");if(null!==e){this.props.setUserToRedux(e);var t=this.props.setUserToRedux(e);console.log(t),this.props.history.push("/advert")}}},{key:"render",value:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"formContainer"},c.a.createElement("form",{className:"formHome",onSubmit:this.onSubmit},c.a.createElement("div",{className:"field"},c.a.createElement("label",{className:"label is-size-6"}),c.a.createElement("div",{className:"control"},c.a.createElement("input",{className:"input",type:"text",placeholder:"Name",name:"name",onChange:this.onInputChange}))),c.a.createElement("div",{className:"field"},c.a.createElement("label",{className:"label"}),c.a.createElement("div",{className:"control"},c.a.createElement("input",{className:"input",type:"text",placeholder:"Surnname",name:"surname",onChange:this.onInputChange}))),c.a.createElement(N,{tagHandle:this.onInputChange}),c.a.createElement("div",{className:"field is-grouped"},c.a.createElement("div",{className:"control"},c.a.createElement("button",{className:"button is-warning"},"Submit"))))))}}]),t}(c.a.Component);var $=Object(w.b)((function(e){return{user:e.user}}),(function(e){return{setUserToRedux:function(t){return e(I(t))}}}))(Z);$.contextType=j;var ee=a(334),te=a(327),ae=a(328),ne=a(9),re=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"card-grid"},this.props.ads.map((function(e){return c.a.createElement(ee.a,{key:e._id,style:{flex:1,width:350}},c.a.createElement(ne.b,{to:"/advert/".concat(e._id),className:"card-header-title"}," ",c.a.createElement(ee.a.Img,{variant:"top",fluid:"true",src:"http://localhost:3001/".concat(e.photo)})," "),c.a.createElement(ee.a.Body,null,c.a.createElement(ne.b,{to:"/advert/".concat(e._id),className:"card-header-title"},c.a.createElement(ee.a.Title,null,e.name)," "),c.a.createElement(ee.a.Text,null,e.description),c.a.createElement(ee.a.Text,null,c.a.createElement("h5",null,e.price,"\u20ac")),"sell"===e.type?c.a.createElement(te.a,{className:"adTypeButton",variant:"success"},e.type):c.a.createElement(te.a,{className:"adTypeButton",variant:"warning"},e.type),c.a.createElement(ae.a,null,e.tags.map((function(e){return c.a.createElement(te.a,{key:e,className:"tagButton",variant:"outline-info",size:"sm"},e)})))),c.a.createElement(ee.a.Footer,null,c.a.createElement("small",{className:"text-muted"},"Created: ",e.updatedAt.split("T")[0]),c.a.createElement("br",null)))}))))}}]),t}(r.Component);a(152);var ce=a(332),le=a(330),se=a(143),oe=a(144),ie=a(329),ue=y(),me=ue.findAds,pe=ue.getTags,de=(ue.getTagsAds,ue.getAds),he=ue.getAdsbySearch,ve=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).myTags=function(){pe().then((function(e){return a.setState({tags:e})}))},a.resetAds=function(){window.location.reload()},a.myAds=function(){de().then((function(e){return a.setState({ads:e})}))},a.mySearch=function(){console.log(a.state.ads),console.log(a.state.tags);var e=a.state,t=e.name,n=e.price,r=e.tagSelected,c=e.type;he(t,n,r,c).then((function(e){return a.setState({ads:e})}))},a.search=function(e){var t=e.target.value;if(""!==t)return me(t).then((function(e){return a.setState({ads:e})}));a.myAds()},a.onSubmit=function(e){e.preventDefault(),a.mySearch()},a.onInputChange=function(e){var t=e.target,n=t.name,r=t.value;console.log(n,r),a.setState(Object(p.a)({},n,r))},a.state={ads:[],tags:[],tagSelected:"",price:"",type:"",loading:!0},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.myTags(),this.myAds()}},{key:"render",value:function(){var e=this.state.ads;console.log(e);var t=this.state.tags;return c.a.createElement(c.a.Fragment,null,c.a.createElement(ce.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark"},c.a.createElement(ne.b,{to:"/advert"},c.a.createElement(ce.a.Brand,null,c.a.createElement("img",{src:"https://es.seaicons.com/wp-content/uploads/2015/09/Online-Shopping-icon.png",width:"30",height:"30",className:"d-inline-block align-top",alt:"WallaKeep"})," ","WallaKeep")),c.a.createElement(ce.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),c.a.createElement(ce.a.Collapse,{id:"responsive-navbar-nav"},c.a.createElement(le.a,{className:"mr-auto"}),c.a.createElement(le.a,null,c.a.createElement(O.a,{inline:!0},c.a.createElement(se.a,{type:"text",placeholder:"Search",onKeyUp:this.search,className:"mr-sm-2"}),c.a.createElement(ne.b,{to:"/editnew"},c.a.createElement(te.a,{variant:"outline-info"},"New")))))),c.a.createElement("br",null),c.a.createElement(O.a,{className:"advancedSearch",onSubmit:this.onSubmit},c.a.createElement(O.a.Row,null,c.a.createElement(O.a.Group,{as:oe.a,controlId:"validationCustom01"},c.a.createElement(O.a.Label,null,"Name"),c.a.createElement(O.a.Control,{onChange:this.onInputChange,type:"text",placeholder:"Name",name:"name",defaultValue:""})),c.a.createElement(O.a.Group,{as:oe.a,md:"6",controlId:"validationCustom02"},c.a.createElement(O.a.Label,null,"Tags"),c.a.createElement(O.a.Control,{as:"select",name:"tagSelected",required:!0,autoFocus:!0,onChange:this.onInputChange},c.a.createElement("option",{className:"field",value:""},"Choose your Tag"),t.map((function(e){return c.a.createElement("option",{key:e},"  ",e)}))))),c.a.createElement(O.a.Row,null,c.a.createElement(O.a.Group,{as:oe.a,md:"6",controlId:"validationCustom02"},c.a.createElement(O.a.Label,null,"Seller or Buyer"),c.a.createElement(O.a.Control,{as:"select",name:"type",size:"",autoFocus:!0,onChange:this.onInputChange},c.a.createElement("option",{className:"field",value:"",name:""},"Choose an option"),c.a.createElement("option",{className:"field",value:"sell"},"Para comprar"),c.a.createElement("option",{className:"field",value:"buy"},"Para vender"))),c.a.createElement(O.a.Group,{as:oe.a,controlId:"validationCustomUsername"},c.a.createElement(O.a.Label,null,"Max Price"),c.a.createElement(ie.a,null,c.a.createElement(O.a.Control,{type:"number",placeholder:"\u20ac\u20ac\u20ac",min:"1",name:"price","aria-describedby":"inputGroupPrepend",step:"0.01",onChange:this.onInputChange})))),c.a.createElement(te.a,{className:"buttonAdvancedSearc",variant:"outline-info",type:"submit"},"Submit form"),c.a.createElement("br",null),c.a.createElement(te.a,{className:"buttonReset",variant:"outline-secondary",type:"reset",onClick:this.resetAds},"Reset")),e&&c.a.createElement(re,{ads:e}))}}]),t}(c.a.Component);var fe=Object(w.b)((function(e){return{user:e.user,ads:e.ads,isFetching:e.ui.isFetching,err:e.ui.err,searchAd:e.searchAd}}),(function(e){return{searchAds:function(t,a,n,r){return e(H(t,a,n,r))}}}))(ve),Ee=(a(103),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.user;0===Object.keys(e).length&&this.props.history.push("/register");var t=this.props.match.params.adId;this.props.loadAd(t)}},{key:"render",value:function(){var e=this.props.detailAd;return console.log(this.props.detailAd),e?c.a.createElement(c.a.Fragment,null,c.a.createElement(ce.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark"},c.a.createElement(ne.b,{to:"/advert"},c.a.createElement(ce.a.Brand,null,c.a.createElement("img",{src:"https://es.seaicons.com/wp-content/uploads/2015/09/Online-Shopping-icon.png",width:"30",height:"30",className:"d-inline-block align-top",alt:"WallaKeep"})," ","WallaKeep")),c.a.createElement(ce.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),c.a.createElement(ce.a.Collapse,{id:"responsive-navbar-nav"},c.a.createElement(le.a,{className:"mr-auto"}),c.a.createElement(le.a,null,c.a.createElement(O.a,{inline:!0},c.a.createElement(se.a,{type:"text",placeholder:"Search",onKeyUp:this.search,className:"mr-sm-2"}),c.a.createElement(te.a,{variant:"outline-info"},"New"))))),e&&c.a.createElement("section",{className:"section"},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"columns is-desktop is-vcentered"},c.a.createElement("div",{className:"column is-6-desktop"},c.a.createElement("img",{src:"http://localhost:3001/".concat(e.photo),alt:""})),c.a.createElement("div",{className:"column is-6-desktop"},c.a.createElement("div",{className:"level is-mobile"}),c.a.createElement("h2",{className:"title is-spaced"},e.name),c.a.createElement("p",{className:"subtitle"},e.description),c.a.createElement(ae.a,null,e.tags.map((function(e){return c.a.createElement(te.a,{key:e,className:"tagButton",variant:"outline-info",size:""},e)}))),c.a.createElement("br",null),c.a.createElement("div",{className:"level is-mobile"},c.a.createElement("div",{className:"level-left"},c.a.createElement("a",{className:"level-item",href:"."},c.a.createElement("div",{className:"tag is-primary"},"\xa0")),c.a.createElement("a",{className:"level-item",href:"."},c.a.createElement("div",{className:"tag is-danger"},"\xa0")),c.a.createElement("a",{className:"level-item",href:"."},c.a.createElement("div",{className:"tag is-dark"},"\xa0")),c.a.createElement("a",{className:"level-item",href:"."},c.a.createElement("div",{className:"tag is-info"},"\xa0")))),c.a.createElement("div",{className:"columns"},c.a.createElement("div",{className:"column is-half"},c.a.createElement("div",{className:"field is-horizontal"},c.a.createElement("div",{className:"field-label is-normal"},c.a.createElement("label",{className:"label"},e.price,"\u20ac")),c.a.createElement("div",{className:"field-body"},c.a.createElement("div",{className:"field"},c.a.createElement("div",{className:"control"})),c.a.createElement("div",{className:"field"},c.a.createElement("div",{className:"control"},c.a.createElement("button",{className:"button is-primary"},"To: ",e.type))),c.a.createElement("div",null,c.a.createElement(ne.b,{to:"/advert"}," ",c.a.createElement(te.a,{variant:"outline-secondary"},"GoBack"))))))),c.a.createElement("hr",null),c.a.createElement("div",{className:"level is-mobile"},c.a.createElement("div",{className:"level-left"},c.a.createElement("div",{className:"level-item"},c.a.createElement("a",{href:"."},"Add to favorites"))),c.a.createElement("div",{className:"level-right"}))))))):null}}]),t}(c.a.Component));var ge=Object(w.b)((function(e){return{user:e.user,isFetching:e.isFetching,detailAd:e.detailAd}}),(function(e){return{loadAd:function(t){return e(K(t))}}}))(Ee);function be(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ye(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?be(a,!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):be(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Oe=y(),Se=Oe.findAdByID,Ne=(Oe.editAdvert,Oe.newAdvert),Ce=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).findByID=function(e){Se(e).then((function(e){return a.setState({advert:{adId:e._id,name:e.name,type:e.type,description:e.description,price:e.price,tags:e.tags,photo:e.photo,edit:!0}})}))},a.state={advert:{name:"",description:"",venta:"",price:"",tags:[],photo:""},edit:!1},a.onSubmit=a.onSubmit.bind(Object(d.a)(a)),a.onInputChange=a.onInputChange.bind(Object(d.a)(a)),a.findByID=a.findByID.bind(Object(d.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.user;0===Object.keys(e).length&&this.props.history.push("/register");var t=this.props.match.params.adId;console.log("adId es:",t),void 0===t?console.log("adId es undefined, no hago setState y cargo el form con datos vacios"):(console.log("llamo a la funci\xf3n de redux para que me traiga el ad"),this.props.loadAd(t),console.log(this.props.detailAd),this.setState({advert:this.props.detailAd,edit:!0}))}},{key:"onInputChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState({advert:ye({},this.state.advert,Object(p.a)({},a,n))})}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault(),console.log(this.state),console.log(this.state.advert._id),!0===this.state.edit&&(console.log("paso"),this.props.editAd(this.state.advert._id,this.state.advert)),Ne(this.state.advert).then((function(e){alert("Advert have been created"),t.setState({advert:{name:"",description:"",tags:[],price:"",type:"",photo:"",edit:!1}})}))}},{key:"render",value:function(){var e=this.state.advert;return console.log(e),e?c.a.createElement(c.a.Fragment,null,c.a.createElement(ce.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark"},c.a.createElement(ne.b,{to:"/advert"},c.a.createElement(ce.a.Brand,null,c.a.createElement("img",{src:"https://es.seaicons.com/wp-content/uploads/2015/09/Online-Shopping-icon.png",width:"30",height:"30",className:"d-inline-block align-top",alt:"WallaKeep"})," ","WallaKeep")),c.a.createElement(ce.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),c.a.createElement(ce.a.Collapse,{id:"responsive-navbar-nav"},c.a.createElement(le.a,{className:"mr-auto"}),c.a.createElement(le.a,null,c.a.createElement(O.a,{inline:!0},c.a.createElement(se.a,{type:"text",placeholder:"Search",onKeyUp:this.search,className:"mr-sm-2"}),c.a.createElement(te.a,{variant:"outline-info"},"New"))))),e&&c.a.createElement("div",{className:"formContainer"},c.a.createElement("form",{className:"formHome",onSubmit:this.onSubmit},c.a.createElement("div",{className:"field"},c.a.createElement("label",{className:"label is-size-6"}),c.a.createElement("div",{className:"control"},"Ad Name",c.a.createElement("input",{className:"input",type:"text",value:e.name,name:"name",onChange:this.onInputChange}))),c.a.createElement("div",{className:"field"},c.a.createElement("label",{className:"label"}),c.a.createElement("div",{className:"control"},"Description",c.a.createElement("input",{className:"input",type:"text",placeholder:e.description,name:"description",onChange:this.onInputChange}))),c.a.createElement("div",{className:"field"},c.a.createElement("label",{className:"label"}),c.a.createElement("div",{className:"control"},"Price \u20ac:",c.a.createElement("input",{className:"input",type:"number",placeholder:e.price,name:"price",onChange:this.onInputChange}))),c.a.createElement("div",{className:"field"},c.a.createElement("label",{className:"label"}),c.a.createElement("div",{className:"control"},"Buy or  Sell:",c.a.createElement("br",null),c.a.createElement("select",{className:"select",name:"type",placeholder:e.type,onChange:this.onInputChange},c.a.createElement("option",{value:"buy"},"buy"),c.a.createElement("option",{value:"sell"},"sell")))),"Tags:",c.a.createElement(N,{tagHandle:this.onInputChange}),c.a.createElement("div",{className:"field"},c.a.createElement("label",{className:"label"}),c.a.createElement("div",{className:"control"},"Photo url:",c.a.createElement("input",{className:"input",type:"text",placeholder:e.photo,name:"photo",onChange:this.onInputChange}),c.a.createElement("div",{class:"column is-6-desktop"},c.a.createElement("img",{src:"http://localhost:3001/".concat(e.adPhoto),alt:""})))),c.a.createElement("div",{className:"field is-grouped"},c.a.createElement("div",{className:"control"},c.a.createElement("button",{className:"button is-warning"},"Submit")))))):null}}]),t}(c.a.Component);var je=Object(w.b)((function(e){return{user:e.user,isFetching:e.isFetching,detailAd:e.detailAd}}),(function(e){return{loadAd:function(t){return e(K(t))},editAd:function(t,a){return e(F(t,a))}}}))(Ce),Ae=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={error:null},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidCatch",value:function(e,t){console.log(e.stack),console.log(t),this.setState({error:e})}},{key:"render",value:function(){var e=this.state.error;return e?c.a.createElement("div",{className:"notification is-danger",id:"no-results"},c.a.createElement("p",null,"Oh NO!!, Something went wrong"),c.a.createElement("p",null,e)):this.props.children}}]),t}(c.a.Component),we=(a(188),a(33)),ke=a(333),Te=a(148),_e=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).loadAds=a.props.loadAds,a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.loadAds()}},{key:"render",value:function(){var e=this.props,t=e.isFetching,a=e.err;return c.a.createElement("div",null,c.a.createElement(Ae,null,c.a.createElement(w.a,{store:this.props.store},c.a.createElement(ne.a,null,c.a.createElement(we.c,null,c.a.createElement(we.a,{exact:!0,path:"/",component:$}),c.a.createElement(we.a,{exact:!0,path:"/advert",component:fe}),c.a.createElement(we.a,{exact:!0,path:"/advert/:adId",component:ge}),c.a.createElement(we.a,{exact:!0,path:"/register",component:$}),c.a.createElement(we.a,{exact:!0,path:"/editnew/:adId",component:je}),c.a.createElement(we.a,{exact:!0,path:"/editnew",component:je}),c.a.createElement(we.a,{component:fe}))))),t&&c.a.createElement(Te.a,{type:"grow",color:"info",size:"60"}),a&&c.a.createElement(ke.a,{key:"alert",variant:"info"}," ",a,"}"))}}]),t}(c.a.Component);var xe=Object(w.b)((function(e){return{user:e.user,ads:e.ads,isFetching:e.ui.isFetching,err:e.ui.err}}),(function(e){return{loadAds:function(){return e(Q())}}}))(_e),De=a(38),Ie=a(149),Fe=a(150),Pe=a(151);a(189);function Ue(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Re(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ue(a,!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ue(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var He={user:{},ads:[],ui:{isFetching:!1,err:null},detailAd:null,searchAd:null},Be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He.user,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":return t.user;default:return e}},Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He.ads,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_ADS_SUCCESS":return t.ads;default:return e}},Ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He.detailAd,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EDIT_AD_SUCCESS":case"FETCH_SINGLE_AD_SUCCESS":return t.ad;default:return e}},Ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He.searchAd,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_SEARCH_ADS_SUCCESS":return t.ads;default:return e}},ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He.ui,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_SINGLE_AD_REQUEST":case"FETCH_ADS_REQUEST":return Re({},e,{isFetching:!0,err:null});case"FETCH_SINGLE_AD_SUCCESS":case"FETCH_ADS_SUCCESS":return Re({},e,{isFetching:!1,err:null});case"FETCH_ADS_FAILURE":return Re({},e,{isFetching:!1,err:t.err});default:return e}},Me=function(){var e=localStorage.getItem("userData");return JSON.parse(e)}(),We=(Object(Ie.createLogger)(),Pe.composeWithDevTools);var Qe=function(){var e=Object(De.combineReducers)(n),t=[Fe.a];return Object(De.createStore)(e,function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0],null!==Me?{user:{name:Me.name,surname:Me.surname,tags:Me.tags,isRegister:Me.isRegister},ads:[],ui:{isFetching:!1,err:null},detailAd:null}:{user:{},ads:[],ui:{isFetching:!1,err:null},detailAd:null}}(),We(De.applyMiddleware.apply(void 0,t)))}();Qe.subscribe((function(){return Qe.getState()})),Object(l.render)(c.a.createElement(xe,{store:Qe}),document.getElementById("root"))},40:function(e,t,a){}},[[153,1,2]]]);
//# sourceMappingURL=main.91400913.chunk.js.map